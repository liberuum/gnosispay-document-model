scalar Amount_Tokens
scalar EthereumAddress
scalar Amount_Percentage
scalar EmailAddress
scalar Date
scalar DateTime
scalar URL
scalar Amount_Money
scalar OLabel
scalar Currency
scalar PHID
scalar OID
scalar Amount_Fiat
scalar Amount_Currency
scalar Amount_Crypto
scalar Amount
scalar Upload
type TokenValue {
  amount: Float!
  token: String!
  usdValue: Float
}

type PriceInfo {
  amount: Float!
  currency: Currency!
}

type DateRange {
  startDate: Date!
  endDate: Date!
}

type TransactionMetadata {
  importedAt: DateTime!
  totalTransactions: Int!
  dateRange: DateRange
}

enum TransactionStatus {
  SUCCESS
  FAILED
}

type Transaction {
  id: OID!
  txHash: String!
  blockNumber: String!
  timestamp: DateTime!
  fromAddress: String
  toAddress: String
  contractAddress: String
  valueIn: TokenValue
  valueOut: TokenValue
  txnFee: TokenValue!
  historicalPrice: PriceInfo
  currentValue: PriceInfo
  convertedValue: PriceInfo
  status: TransactionStatus!
  errorCode: String
  method: String
}

type ExchangeRate {
  fromCurrency: Currency!
  toCurrency: Currency!
  rate: Float!
  timestamp: DateTime!
}

type Settings {
  baseCurrency: Currency!
  lastForexUpdate: DateTime
  exchangeRates: [ExchangeRate!]!
}

type Analytics {
  totalSpent: TokenValue
  averageTransaction: TokenValue
  transactionsByToken: [TokenValue!]!
  monthlyBreakdown: [TokenValue!]!
}

type CryptoTransactionAnalyticsState {
  transactions: [Transaction!]!
  analytics: Analytics
  metadata: TransactionMetadata
  settings: Settings!
}



# Transaction Management

input ImportCsvTransactionsInput {
  csvData: String!
  timestamp: DateTime!
  transactionIds: [OID!]!
}

input AddTransactionInput {
  id: OID!
  txHash: String!
  blockNumber: String!
  timestamp: DateTime!
  fromAddress: String
  toAddress: String
  contractAddress: String
  valueIn: TokenValueInput
  valueOut: TokenValueInput
  txnFee: TokenValueInput!
  historicalPrice: PriceInfoInput
  currentValue: PriceInfoInput
  convertedValue: PriceInfoInput
  status: TransactionStatus!
  errorCode: String
  method: String
}

input TokenValueInput {
  amount: Float!
  token: String!
  usdValue: Float
}

input PriceInfoInput {
  amount: Float!
  currency: Currency!
}

input UpdateTransactionInput {
  id: OID!
  txHash: String
  blockNumber: String
  timestamp: DateTime
  fromAddress: String
  toAddress: String
  contractAddress: String
  valueIn: TokenValueInput
  valueOut: TokenValueInput
  txnFee: TokenValueInput
  historicalPrice: PriceInfoInput
  currentValue: PriceInfoInput
  convertedValue: PriceInfoInput
  status: TransactionStatus
  errorCode: String
  method: String
}

input DeleteTransactionInput {
  id: OID!
}

# Currency Management

input SetBaseCurrencyInput {
  baseCurrency: Currency!
}

input UpdateExchangeRatesInput {
  rates: [ExchangeRateInput!]!
  timestamp: DateTime!
}

input ExchangeRateInput {
  fromCurrency: Currency!
  toCurrency: Currency!
  rate: Float!
  timestamp: DateTime!
}

input ConvertTransactionValuesInput {
  transactionId: OID!
  baseCurrency: Currency!
}

# Analytics

input CalculateAnalyticsInput {
  baseCurrency: Currency!
}